# Packet Classifier

Проект, который классифицирует сетевые пакеты, прочитанные из pcap файла, и сохраняет статистику по потокам пакетов в CSV файл.

## Описание

Программа выполняет следующие задачи:

1. **Чтение пакетов из pcap файла**: Программа использует библиотеку **PcapPlusPlus** для чтения и анализа pcap файлов.
2. **Классификация пакетов**: Программа анализирует только IPv4 пакеты и классифицирует их по потокам. Поток определяется уникальной комбинацией IP адресов и портов.
3. **Подсчет статистики по потокам**: Программа собирает информацию о количестве пакетов и байт, переданных в каждом потоке.
4. **Запись результатов в CSV**: После обработки всех пакетов программа записывает результаты в CSV файл, который можно использовать для дальнейшего анализа.

Формат CSV:
<IP адрес источника>,<IP адрес получателя>,<порт источника>,<порт получателя>,<кол-во пакетов>,<кол-во байт>

## Структура проекта
/project 
    /CppScript
        /src
        main.cpp
        Stream.h
        stream.cpp
        PacketCapture.cpp
        PacketCapture.h
        PacketClassifier.cpp
        PacketClassifier.h 
    
        /libs 
        Pcap++.lib
        Common++.lib
        Packet++.lib
        Packet.lib
        wpcap.lib
        Ws2_32.lib 

        /libs/libs
        {файлы заголовков}

        CMakeLists.txt
    /PythonScript
        proccessor_CSV.py


- **main.cpp**: Главный исходный файл программы.
- **libs**: Папка с библиотеками, необходимыми для работы программы, включая библиотеки PcapPlusPlus и WinPcap/Npcap.

## Установка зависимостей

Для успешной работы программы, вам нужно установить библиотеку **PcapPlusPlus**, которая используется для чтения pcap файлов.

1. **Скачивание и установка PcapPlusPlus**:
    - Перейдите в [репозиторий PcapPlusPlus]https://github.com/seladb/PcapPlusPlus/releases/tag/v24.09).
    - Следуйте инструкциям на сайте, что правильно установить библиотеку (https://pcapplusplus.github.io/docs/install/vs).

2. **Установка WinPcap/Npcap** (для Windows):
    - Для Windows потребуется установить библиотеку **Npcap** или **WinPcap**. Скачайте и установите [Npcap](https://nmap.org/npcap/) (рекомендуется использовать Npcap).

### Инструкция по сборке:
1. Убедитесь, что установлены зависимости:
   - `PcapPlusPlus` (или аналогичная библиотека для вашей платформы).
2. Используйте **CMake** для сборки:
   ```bash
   mkdir build
   cd build
   cmake ..
   make

## **Процесс работы**:
   -Сначала должен отработать первый скрипт на С++(входной файл обязательно должен называться "1_packet.pcap", выходной файл "output.csv")  
   -входной файл помещается в папку с .exe или проектом
   -Затем отрабатывает второй скрипт на python(входной файл обязательно должен называться "output.csv", выходной файл будет называться"processed_flows.csv")
   -входной файл помещается рядом со скриптом



